# IM Connect

IM Connect æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å³æ—¶é€šè®¯å¹³å°ï¼Œæ—¨åœ¨è¿æ¥**ä¼ä¸š**ä¸**è¡Œä¸šä¸“å®¶**ã€‚å®ƒæä¾›äº†ä¸€ä¸ªæ— ç¼çš„æ²Ÿé€šæ¸ é“ï¼Œä¸“ä¸ºå’¨è¯¢ã€æŠ€æœ¯æ”¯æŒå’Œä¸“ä¸šåä½œè€Œé‡èº«å®šåˆ¶ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- **è§’è‰²ç³»ç»Ÿ**: ä¸º**ä¼ä¸š**ï¼ˆå¯»æ±‚å¸®åŠ©ï¼‰å’Œ**ä¸“å®¶**ï¼ˆæä¾›è§£å†³æ–¹æ¡ˆï¼‰æä¾›ç‹¬ç‰¹çš„å·¥ä½œæµå’Œä¸ªäººèµ„æ–™ã€‚
- **å®æ—¶æ¶ˆæ¯**: åŸºäº WebSocket çš„ä½å»¶è¿ŸèŠå¤©ã€‚
- **å¤šåª’ä½“æ”¯æŒ**:
  - æ–‡æœ¬ã€è¡¨æƒ…ç¬¦å·
  - å›¾ç‰‡åˆ†äº«ï¼ˆå¸¦é¢„è§ˆï¼‰
  - æ–‡ä»¶é™„ä»¶
- **æ™ºèƒ½èŠå¤©åŠŸèƒ½**:
  - æ¶ˆæ¯å·²è¯»/æœªè¯»çŠ¶æ€
  - æ¶ˆæ¯æ’¤å›ï¼ˆè½¯åˆ é™¤ï¼‰
  - æœªè¯»æ¶ˆæ¯è®¡æ•°
  - ä¼šè¯ç½®é¡¶
- **ç”¨æˆ·æ¡£æ¡ˆ**: ä¸°å¯Œçš„ä¸ªäººèµ„æ–™ç®¡ç†ï¼ŒåŒ…æ‹¬ä¸“ä¸šæ ‡ç­¾ã€ä¸ªäººç®€ä»‹å’Œç»„ç»‡ä¿¡æ¯ã€‚
- **æœç´¢**: é«˜æ•ˆçš„æ¶ˆæ¯å’Œè”ç³»äººæŸ¥æ‰¾ã€‚
- **å“åº”å¼ UI**: åŸºäº Tailwind CSS å’Œ Framer Motion æ„å»ºçš„ç°ä»£ç®€æ´ç•Œé¢ã€‚

## ğŸ›  æŠ€æœ¯æ ˆ

### å‰ç«¯ (Frontend)
- **æ ¸å¿ƒ**: [React 19](https://react.dev/)
- **æ„å»ºå·¥å…·**: [Vite](https://vitejs.dev/)
- **æ ·å¼**: [Tailwind CSS v4](https://tailwindcss.com/)
- **çŠ¶æ€ä¸è·¯ç”±**: React Router DOM, Custom Hooks.
- **å›¾æ ‡**: Lucide React.
- **åŠ¨ç”»**: Framer Motion.

### åç«¯ (Backend)
- **è¿è¡Œç¯å¢ƒ**: [Node.js](https://nodejs.org/)
- **æœåŠ¡ç«¯æ¡†æ¶**: [Express.js](https://expressjs.com/)
- **å®æ—¶é€šä¿¡**: [ws](https://github.com/websockets/ws) (WebSocket)
- **æ•°æ®åº“**: SQLite (å¼€å‘ç¯å¢ƒ) / å…¼å®¹ PostgreSQL/MySQL.
- **ORM**: [Prisma](https://www.prisma.io/)
- **å¯¹è±¡å­˜å‚¨**: æ”¯æŒæœ¬åœ°å­˜å‚¨å’Œé˜¿é‡Œäº‘ OSSã€‚

## ğŸ å¿«é€Ÿå¼€å§‹

æŒ‰ç…§ä»¥ä¸‹è¯´æ˜åœ¨æœ¬åœ°æœºå™¨ä¸Šè¿è¡Œé¡¹ç›®ã€‚

### å‰ç½®è¦æ±‚

- **Node.js**: v18 æˆ–æ›´é«˜ç‰ˆæœ¬
- **åŒ…ç®¡ç†å™¨**: [pnpm](https://pnpm.io/) (æ¨è) æˆ– npm

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/7-ch/im-connect.git
   cd im-connect
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   pnpm install
   ```

3. **ç¯å¢ƒé…ç½®**
   åœ¨æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª `.env` æ–‡ä»¶ã€‚ä½ å¯ä»¥å‚è€ƒä»¥ä¸‹é…ç½®ï¼š
   ```env
   # æ•°æ®åº“
   DATABASE_URL="file:./dev.db"

   # æœåŠ¡å™¨
   PORT=8080

   
   # å¯¹è±¡å­˜å‚¨ (å¯é€‰ - å¦‚æœæœªè®¾ç½®åˆ™é»˜è®¤ä¸ºæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ)
   OSS_REGION=
   OSS_ACCESS_KEY_ID=
   OSS_ACCESS_KEY_SECRET=
   OSS_BUCKET=
   ```

4. **æ•°æ®åº“è®¾ç½®**
   ç”Ÿæˆ Prisma å®¢æˆ·ç«¯å¹¶å°† Schema æ¨é€è‡³æ•°æ®åº“ã€‚
   ```bash
   pnpm db:migrate
   ```

5. **å¡«å……æ•°æ® (å¯é€‰)**
   ä½¿ç”¨åˆå§‹ç”¨æˆ·å’Œä¼šè¯æ•°æ®å¡«å……æ•°æ®åº“ä»¥ä¾¿æµ‹è¯•ã€‚
   ```bash
   pnpm db:seed
   ```

### è¿è¡Œåº”ç”¨

ä½ å¯ä»¥åˆ†åˆ«è¿è¡Œå‰ç«¯å’Œåç«¯ã€‚

**1. å¯åŠ¨åç«¯æœåŠ¡å™¨**
```bash
node server.js
```
> æœåŠ¡å™¨å°†åœ¨ç«¯å£ `8080` (æˆ–ä½ é…ç½®çš„ç«¯å£) ä¸Šå¯åŠ¨ã€‚

**2. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨**
```bash
pnpm dev
```
> åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡ `http://localhost:5173` è®¿é—®ã€‚

## ğŸ“‚ é¡¹ç›®ç»“æ„

```bash
â”œâ”€â”€ src/                # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ components/     # å¯å¤ç”¨ UI ç»„ä»¶ (ChatBubble, ContactList, etc.)
â”‚   â”œâ”€â”€ pages/          # ä¸»è¦è·¯ç”±é¡µé¢ (Login, Chat, etc.)
â”‚   â”œâ”€â”€ hooks/          # è‡ªå®šä¹‰ React hooks (useAuth, usesSocket, etc.)
â”‚   â”œâ”€â”€ utils/          # å‰ç«¯å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ assets/         # é™æ€èµ„æº
â”œâ”€â”€ server/             # åç«¯åº”ç”¨
â”‚   â”œâ”€â”€ routes/         # Express API è·¯ç”±
â”‚   â”œâ”€â”€ socket.js       # WebSocket äº‹ä»¶å¤„ç†
â”‚   â””â”€â”€ seed.js         # æ•°æ®åº“å¡«å……é€»è¾‘
â”œâ”€â”€ prisma/             # æ•°æ®åº“ Schema å’Œè¿ç§»
â”œâ”€â”€ public/             # å…¬å…±é™æ€æ–‡ä»¶
â””â”€â”€ scripts/            # å®ç”¨è„šæœ¬
```

## ğŸ“œ å…³é”®è„šæœ¬

- `pnpm dev`: å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ã€‚
- `pnpm build`: æ„å»ºç”Ÿäº§ç¯å¢ƒå‰ç«¯ä»£ç ã€‚
- `pnpm db:studio`: æ‰“å¼€ Prisma Studio æŸ¥çœ‹/ç¼–è¾‘æ•°æ®åº“è®°å½•ã€‚
- `pnpm db:reset`: é‡ç½®æ•°æ®åº“ (è­¦å‘Š: ä¼šåˆ é™¤æ‰€æœ‰æ•°æ®)ã€‚


## ğŸš¢ éƒ¨ç½²

è¯¦ç»†çš„éƒ¨ç½²è¯´æ˜è¯·å‚è€ƒ [DEPLOY_CN.md](./DEPLOY_CN.md)ã€‚

æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªä¾¿æ·çš„ Shell è„šæœ¬æ¥è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹ï¼š

```bash
./scripts/deploy.sh
```

## ğŸ¤ è´¡çŒ®

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºä½ çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤ä½ çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æ ¹æ® MIT è®¸å¯è¯åˆ†å‘ã€‚æŸ¥çœ‹ `LICENSE` äº†è§£æ›´å¤šä¿¡æ¯ã€‚
